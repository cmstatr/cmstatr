<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transforms data according to the modified CV rule — transform_mod_cv • cmstatr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Transforms data according to the modified CV rule — transform_mod_cv" />
<meta property="og:description" content="Transforms data according to the modified coefficient of variation (CV)
rule. This is used to add additional variance to datasets with
unexpectedly low variance, which is sometimes encountered during
testing of new materials over short periods of time.
Two versions of this transformation are implemented. The first version,
transform_mod_cv(), transforms the data in a single group (with
no other structure) according to the modified CV rules.
The second
version, transform_mod_cv_ad(), transforms data that is structured
according to both condition and batch, as is commonly done for
the Anderson--Darling k-Sample and Anderson-Darling tests when pooling
across environments." />
<meta property="og:image" content="www.cmstatr.net/reference/figures/logo-240x278.png" />
<meta property="og:image:alt" content="Statistical methods for composite material data: cmstatr" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmstatr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/adktest.html">Anderson-Darling k-Sample Test</a>
    </li>
    <li>
      <a href="../articles/cmstatr_Graphing.html">Plotting Composite Material Data</a>
    </li>
    <li>
      <a href="../articles/cmstatr_Tutorial.html">cmstatr Tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ComtekAdvancedStructures/cmstatr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transforms data according to the modified CV rule</h1>
    <small class="dont-index">Source: <a href='https://github.com/ComtekAdvancedStructures/cmstatr/blob/master/R/norm.R'><code>R/norm.R</code></a></small>
    <div class="hidden name"><code>transform_mod_cv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Transforms data according to the modified coefficient of variation (CV)
rule. This is used to add additional variance to datasets with
unexpectedly low variance, which is sometimes encountered during
testing of new materials over short periods of time.</p>
<p>Two versions of this transformation are implemented. The first version,
<code><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv()</a></code>, transforms the data in a single group (with
no other structure) according to the modified CV rules.</p>
<p>The second
version, <code><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv_ad()</a></code>, transforms data that is structured
according to both condition and batch, as is commonly done for
the Anderson--Darling k-Sample and Anderson-Darling tests when pooling
across environments.</p>
    </div>

    <pre class="usage"><span class='fu'><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv_ad</a></span>(<span class='kw'>x</span>, <span class='kw'>condition</span>, <span class='kw'>batch</span>)

<span class='fu'><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv</a></span>(<span class='kw'>x</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a vector of data to transform</p></td>
    </tr>
    <tr>
      <th>condition</th>
      <td><p>a vector indicating the condition to which each
observation belongs</p></td>
    </tr>
    <tr>
      <th>batch</th>
      <td><p>a vector indicating the batch to which each observation
belongs</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector of transformed data</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The modified CV transformation takes the general form:</p>
<p>$$\frac{S_i^*}{S_i} (x_{ij} - \bar{x_i}) + \bar{x_i}$$</p>
<p>Where \(S_i^*\) is the modified standard deviation
(mod CV times mean) for
the \(ith\) group; \(S_i\) is the standard deviation
for the \(ith\) group, \(\bar{x_i}\) is
the group mean and \(x_{ij}\) is the observation.</p>
<p><code><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv()</a></code> takes a vector
containing the observations and transforms the data.
The equation above is used, and all observations
are considered to be from the same group.</p>
<p><code><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv_ad()</a></code> takes a vector containing the observations
plus a vector containing the corresponding conditions and a vector
containing the batches. This function first calculates the modified
CV value from the data from each condition (independently). Then,
within each condition, the transformation
above is applied to produce the transformed data \(x'\).
This transformed data is further transformed using the following
equation.</p>
<p>$$x_{ij}'' = C (x'_{ij} - \bar{x_i}) + \bar{x_i}$$</p>
<p>Where:</p>
<p>$$C = \sqrt{\frac{SSE^*}{SSE'}}$$</p>
<p>$$SSE^* = (n-1) (CV^* \bar{x})^2 - \sum(n_i(\bar{x_i}-\bar{x})^2)$$</p>
<p>$$SSE' = \sum(x'_{ij} - \bar{x_i})^2$$</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='www.cmstatr.net/reference/calc_cv_star.html'>calc_cv_star</a></code></p>
<p><code><a href='www.cmstatr.net/reference/cv.html'>cv</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Transform data according to the modified CV transformation</span>
<span class='co'># and report the original and modified CV for each condition</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='https://dplyr.tidyverse.org'>dplyr</a></span>)
<span class='kw'>carbon.fabric</span> <span class='op'>%&gt;%</span>
<span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='kw'>test</span> <span class='op'>==</span> <span class='st'>"FT"</span>) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='kw'>condition</span>) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(trans_strength = <span class='fu'><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv</a></span>(<span class='kw'>strength</span>)) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fl'>10</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 10 x 6</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   condition [1]</span><span>
#&gt;    id         test  condition batch strength trans_strength
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> FT-RTD-1-1 FT    RTD           1     126.           126.
#&gt; </span><span style='color: #555555;'> 2</span><span> FT-RTD-1-2 FT    RTD           1     139.           141.
#&gt; </span><span style='color: #555555;'> 3</span><span> FT-RTD-1-3 FT    RTD           1     116.           115.
#&gt; </span><span style='color: #555555;'> 4</span><span> FT-RTD-1-4 FT    RTD           1     132.           133.
#&gt; </span><span style='color: #555555;'> 5</span><span> FT-RTD-1-5 FT    RTD           1     129.           129.
#&gt; </span><span style='color: #555555;'> 6</span><span> FT-RTD-1-6 FT    RTD           1     130.           130.
#&gt; </span><span style='color: #555555;'> 7</span><span> FT-RTD-2-1 FT    RTD           2     131.           131.
#&gt; </span><span style='color: #555555;'> 8</span><span> FT-RTD-2-2 FT    RTD           2     124.           124.
#&gt; </span><span style='color: #555555;'> 9</span><span> FT-RTD-2-3 FT    RTD           2     125.           125.
#&gt; </span><span style='color: #555555;'>10</span><span> FT-RTD-2-4 FT    RTD           2     120.           119.</div><div class='input'>
<span class='co'>## # A tibble: 10 x 6</span>
<span class='co'>## # Groups:   condition [1]</span>
<span class='co'>##    id         test  condition batch strength trans_strength</span>
<span class='co'>##    &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;    &lt;dbl&gt;          &lt;dbl&gt;</span>
<span class='co'>##  1 FT-RTD-1-1 FT    RTD           1     126.           126.</span>
<span class='co'>##  2 FT-RTD-1-2 FT    RTD           1     139.           141.</span>
<span class='co'>##  3 FT-RTD-1-3 FT    RTD           1     116.           115.</span>
<span class='co'>##  4 FT-RTD-1-4 FT    RTD           1     132.           133.</span>
<span class='co'>##  5 FT-RTD-1-5 FT    RTD           1     129.           129.</span>
<span class='co'>##  6 FT-RTD-1-6 FT    RTD           1     130.           130.</span>
<span class='co'>##  7 FT-RTD-2-1 FT    RTD           2     131.           131.</span>
<span class='co'>##  8 FT-RTD-2-2 FT    RTD           2     124.           124.</span>
<span class='co'>##  9 FT-RTD-2-3 FT    RTD           2     125.           125.</span>
<span class='co'>## 10 FT-RTD-2-4 FT    RTD           2     120.           119.</span>

<span class='co'># The CV of this transformed data can be computed to verify</span>
<span class='co'># that the resulting CV follows the rules for modified CV</span>

<span class='kw'>carbon.fabric</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='kw'>test</span> <span class='op'>==</span> <span class='st'>"FT"</span>) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='kw'>condition</span>) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(trans_strength = <span class='fu'><a href='www.cmstatr.net/reference/transform_mod_cv.html'>transform_mod_cv</a></span>(<span class='kw'>strength</span>)) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarize</a></span>(cv = <span class='fu'><a href='https://rdrr.io/r/stats/sd.html'>sd</a></span>(<span class='kw'>strength</span>) <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='kw'>strength</span>),
            mod_cv = <span class='fu'><a href='https://rdrr.io/r/stats/sd.html'>sd</a></span>(<span class='kw'>trans_strength</span>) <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='kw'>trans_strength</span>))</div><div class='output co'>#&gt; <span class='message'>`summarise()` ungrouping output (override with `.groups` argument)</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 3 x 3</span><span>
#&gt;   condition     cv mod_cv
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> CTD       0.042</span><span style='text-decoration: underline;'>3</span><span> 0.061</span><span style='text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #555555;'>2</span><span> ETW       0.036</span><span style='text-decoration: underline;'>9</span><span> 0.060</span><span style='text-decoration: underline;'>0</span><span>
#&gt; </span><span style='color: #555555;'>3</span><span> RTD       0.062</span><span style='text-decoration: underline;'>1</span><span> 0.071</span><span style='text-decoration: underline;'>1</span><span></div><div class='input'>
<span class='co'>## # A tibble: 3 x 3</span>
<span class='co'>##   condition     cv mod_cv</span>
<span class='co'>##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class='co'>## 1 CTD       0.0423 0.0612</span>
<span class='co'>## 2 ETW       0.0369 0.0600</span>
<span class='co'>## 3 RTD       0.0621 0.0711</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.kloppenborg.ca'>Stefan Kloppenborg</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


