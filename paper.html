<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summary • cmstatr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Summary" />
<meta property="og:image" content="www.cmstatr.net/reference/figures/logo-240x278.png" />
<meta property="og:image:alt" content="Statistical methods for composite material data: cmstatr" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cmstatr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/adktest.html">Anderson-Darling k-Sample Test</a>
    </li>
    <li>
      <a href="articles/cmstatr_Graphing.html">Plotting Composite Material Data</a>
    </li>
    <li>
      <a href="articles/cmstatr_Tutorial.html">cmstatr Tutorial</a>
    </li>
    <li>
      <a href="articles/cmstatr_Validation.html">cmstatr Validation</a>
    </li>
    <li>
      <a href="articles/hk_ext.html">Extended Hanson-Koopmans</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cmstatr/cmstatr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Summary</h1>
    </div>


<hr>
<p>affiliations:</p>
<ul>
<li>index: 1 name: ‘Comtek Advanced Structures, Ltd.’ authors:</li>
<li>affiliation: 1 name: Stefan Kloppenborg orcid: ‘0000-0002-1908-5214’ bibliography: ‘paper.bib’ date: ‘6/24/2020’ output: md_document: pandoc_args: ‘–atx-headers’ preserve_yaml: True variant: markdown pdf_document: default tags:</li>
<li>R</li>
<li>statistics</li>
<li>composite materials</li>
<li>material science title: | cmstatr: An R Package for Statistical Analysis of Composite Material Data —</li>
</ul>
<div id="summary" class="section level1">

<p>Strength data for composite materials used in aerospace applications, such as carbon fiber and fiberglass reinforced composites, are normally analyzed using statistical methods because of the inherent variability in the constituent materials and in the processing. The design standards for civil aviation requires that the probability of structural failure due to this variability must be minimized, and to do so, the designer must use what are called “Design Values” for each material in stress analyses and ensure they exceed the actual stresses experienced by those materials in service. Design Values are set based on the one-sided lower confidence bound of the material strength. For some types of structure, the content of this lower confidence bound is <span class="math inline">99%</span> with a confidence level of <span class="math inline">95%</span>; in this case, the confidence bound is referred to as A-Basis. For some other types of structure, the content of the lower confidence bound is instead <span class="math inline">90%</span> with a confidence level of <span class="math inline">95%</span>; in this case, the confidence bound is referred to as B-Basis. The statistical methods for calculating these basis values are outlined in Composite Materials Handbook, Volume 1, Revision G, or CMH-17-1G in short [@CMH171G]. The use of these methods is widely accepted by industry and civil aviation regulators.</p>
<p>Design Values are often adjusted to account for anticipated in-service damage and other factors, however those adjustments are outside the scope of the present software package.</p>
<p>For a detailed discussion of the theory and applications of tolerance bounds, the reader is referred to @Meeker_Hahn_Escobar_2017 or</p>
<p>@Krishnamoorthy_Mathew_2008.</p>
<p>Currently, many users use MS Excel spreadsheets to perform these analyses. The MS Excel spreadsheets typically used, such as <code>STAT-17</code> [@STAT-17], <code>ASAP</code> [@Raju_Tomblin_2008] and <code>CMH17-STATS</code> [@CMH17-STATS], use password-protected <code>VBA</code> macros to perform the computations. As such, the code cannot be audited by the user. <code>cmstatr</code> is an R package that addresses this issue by implementing the same statistical analysis techniques found in CMH-17-1G in an open-source environment.</p>
</div>
<div id="statement-of-need" class="section level1">
<h1 class="hasAnchor">
<a href="#statement-of-need" class="anchor"></a>Statement of Need</h1>
<p>The purpose of <code>cmstatr</code> is to:</p>
<ul>
<li>Provide a consistent user interface for computing A- and B-Basis values and performing the related diagnostic tests in the <code>R</code> programming environment</li>
<li>Allow auditing of the code used to compute A- and B-Basis values, and performing the related diagnostic tests</li>
<li>Enable users to automate computation workflows or to perform simulation studies</li>
</ul>
</div>
<div id="implementation-goals" class="section level1">
<h1 class="hasAnchor">
<a href="#implementation-goals" class="anchor"></a>Implementation Goals</h1>
<p><code>cmstatr</code> aims give a consistent interface for the user. Most functions are written to work with the <code>tidyverse</code> [@tidyverse] and most functions have similar argument lists. The intent is to make the package easy to learn and use.</p>
<p>The implementation of <code>cmstatr</code> also aims to avoid the use of lookup tables that are prevalent in calculation spreadsheets and minimize the use of approximations. While this decision leads to increased computation time, the typically small data sets (tens to hundreds of observations) associated with composite material test data and the speed of modern computers make this practical for interactive programming.</p>
</div>
<div id="example-usage" class="section level1">
<h1 class="hasAnchor">
<a href="#example-usage" class="anchor"></a>Example Usage</h1>
<p>Normally, to use <code>cmstatr</code> the user will load <code>cmstatr</code> itself as well as the <code>tidyverse</code> package.</p>
<pre class="{.r}"><code><a href="https://www.cmstatr.net/">library(cmstatr)
library(tidyverse)</a></code></pre>
<p><code>cmstatr</code> contains some example data sets, which can be used to demonstrate the features of the package. One of those data sets — <code>carbon.fabric.2</code> — will be used in the following example. This data set contains results from several mechanical tests of a typical composite material, and contains the typical measurements obtained from a test lab. In the following examples, results from tension testing in the warp fiber direction (<code>WT</code>) will be used. Part of this data set is shown below.</p>
<pre class="{.r}"><code>carbon.fabric.2 %&gt;%
  filter(test == "WT") %&gt;%
  head(10)</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">##    test condition batch thickness nplies strength modulus failure_mode</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">## 1    WT       CTD     A     0.112     14  142.817   9.285          LAT</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">## 2    WT       CTD     A     0.113     14  135.901   9.133          LAT</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">## 3    WT       CTD     A     0.113     14  132.511   9.253          LAT</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">## 4    WT       CTD     A     0.112     14  135.586   9.150          LAB</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">## 5    WT       CTD     A     0.113     14  125.145   9.270          LAB</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">## 6    WT       CTD     A     0.113     14  135.203   9.189          LGM</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">## 7    WT       CTD     A     0.113     14  128.547   9.088          LAB</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">## 8    WT       CTD     B     0.113     14  127.709   9.199          LGM</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">## 9    WT       CTD     B     0.113     14  127.074   9.058          LGM</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">## 10   WT       CTD     B     0.114     14  126.879   9.306          LGM</span></span></code></pre></div>
<p>One common task is to calculate B-Basis values. There are several statistical methods for doing so, depending on the distribution of the data. The single-point basis functions automatically perform the following diagnostic tests:</p>
<ul>
<li>the maximum normed residual test for outliers within a batch [@CMH171G],</li>
<li>the Anderson–Darling k-Sample test to check if batches are drawn from the same (unspecified) distribution [@Scholz_Stephens_1987],</li>
<li>the maximum normed residual test for outliers within the data, and</li>
<li>the Anderson–Darling test for a particular probability distribution [@Lawless_1982].</li>
</ul>
<p>Assuming that the data from the warp tension (WT) tested at elevated-temperature/wet condition (ETW) follows a normal distribution, then this can be done using the function. Note that all of the functions in <code>cmstatr</code> that compute basis values default to computing tolerance bounds with a content of <span class="math inline"><em>p</em> = 0.9</span> and a confidence of <span class="math inline"><em>c</em><em>o</em><em>n</em><em>f</em> = 0.95</span>, or B-Basis.</p>
<pre class="{.r}"><code>carbon.fabric.2 %&gt;%
  filter(test == "WT") %&gt;%
  filter(condition == "ETW") %&gt;%
  basis_normal(strength, batch)</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">## Warning: `anderson_darling_normal` failed: Anderson-Darling test rejects</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">## hypothesis that data is drawn from a normal distribution</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">## </span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">## Call:</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">## basis_normal(data = ., x = strength, batch = batch)</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">## </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">## Distribution:  Normal    ( n = 18 )</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">## The following diagnostic tests failed: </span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">##     `anderson_darling_normal`</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">## B-Basis:   ( p = 0.9 , conf = 0.95 )</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">## 122.9315</span></span></code></pre></div>
<p>All of the various basis functions perform diagnostic tests for each of the statistical tests mentioned above. If any of the diagnostic tests failed, a warning is shown and the test failure is also recorded in the returned object (and shown in that object’s <code>print</code> method). In the example above, the output shows that the Anderson–Darling test for normality [@Lawless_1982] rejects the hypothesis that the data is drawn from a normal distribution.</p>
<p>Two non-parametric basis calculations, based on @Guenther_1970 and @Vangel_1994 are also implemented in <code>cmstatr</code>. These functions perform the same diagnostic tests, but omit the Anderson–Darling test for a particular distribution.</p>
<p>The diagnostic test can be run directly using <code>cmstatr</code> as well. For example, the failed diagnostic test above can be run as follows:</p>
<pre class="{.r}"><code>carbon.fabric.2 %&gt;%
  filter(test == "WT") %&gt;%
  filter(condition == "ETW") %&gt;%
  anderson_darling_normal(strength)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">## </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">## Call:</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">## anderson_darling_normal(data = ., x = strength)</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">## </span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">## Distribution:  Normal ( n = 18 ) </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">## Test statistic:  A = 0.9381665 </span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">## OSL (p-value):  0.01103075  (assuming unknown parameters)</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">## Conclusion: Sample is not drawn from a Normal distribution ( alpha = 0.05 )</span></span></code></pre></div>
<p>If the failure of a diagnostic test is decided to be acceptable, the test result can be overridden to hide the warning in the basis function output:</p>
<pre class="{.r}"><code>carbon.fabric.2 %&gt;%
  filter(test == "WT") %&gt;%
  filter(condition == "ETW") %&gt;%
  basis_normal(strength, batch, override = c("anderson_darling_normal"))</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">## </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">## Call:</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">## basis_normal(data = ., x = strength, batch = batch, override = c("anderson_darling_normal"))</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">## </span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">## Distribution:  Normal    ( n = 18 )</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">## The following diagnostic tests were overridden: </span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">##     `anderson_darling_normal`</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">## B-Basis:   ( p = 0.9 , conf = 0.95 )</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">## 122.9315</span></span></code></pre></div>
<p><code>cmstatr</code> also provides functions for calculating basis values from data pooled across multiple testing environments, as recommended by [@CMH171G]. There are two methods of pooling: both calculate a measure of global variation from the data in all tested environmental conditions, then they calculate a basis value for each condition using the measure of the global variation and the individual mean values of each condition. The two methods of pooling have different underlying assumptions and hence the data must pass a different set diagnostic tests for each of the two functions.</p>
</div>
<div id="validation-and-comparison-with-existing-tools" class="section level1">
<h1 class="hasAnchor">
<a href="#validation-and-comparison-with-existing-tools" class="anchor"></a>Validation and Comparison With Existing Tools</h1>
<p>Where possible, <code>cmstatr</code> has been verified against the examples given in the articles in which the statistical methods were published. Unit tests have been written so that this verification is re-checked routinely to prevent unintended regressions. Agreement between <code>cmstatr</code> and the examples in the original articles is within the expected numeric accuracy.</p>
<p><code>cmstatr</code> has also been verified against existing software, such as <code>STAT-17</code> [@STAT-17], <code>ASAP</code> [@Raju_Tomblin_2008] and <code>CMH17-STATS</code> [@CMH17-STATS] using several example data sets. Agreement between <code>cmstatr</code> and the other software is generally good, but some results differ slightly, likely due to various approximations used in the software. Comparison between <code>cmstatr</code> and the other software is performed within various unit tests to guard against future regressions.</p>
<p>The tests are automatically run each time a change is made to the code of <code>cmstatr</code> using a continuous integration service.</p>
</div>
<div id="reproducibility" class="section level1">
<h1 class="hasAnchor">
<a href="#reproducibility" class="anchor"></a>Reproducibility</h1>
<p>It is envisioned that many users of <code>cmstatr</code> will use it within an R Notebook or a Jupyter Notebook. It is further envisioned that this notebook will be directly converted into the statistical analysis report. If this is done, the reader of the statistical report will be able to verify all of the detailed steps used in the statistical analysis.</p>
</div>
<div id="acknowledgement" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgement" class="anchor"></a>Acknowledgement</h1>
<p>The author would like to thank Mr. Billy Cheng for his contributions to <code>cmstatr</code> and this paper. The author would also like to thank Comtek Advanced Structures Ltd. for its support in developing and releasing the <code>cmstatr</code> package.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.kloppenborg.ca'>Stefan Kloppenborg</a>, Comtek Advanced Structures, Ltd..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


